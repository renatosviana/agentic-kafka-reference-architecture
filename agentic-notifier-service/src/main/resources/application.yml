server:
  port: 8088

spring:
  datasource:
    url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://postgres:5432/agentic}
    username: ${SPRING_DATASOURCE_USERNAME:postgres}
    password: ${SPRING_DATASOURCE_PASSWORD:postgres}
    driver-class-name: org.postgresql.Driver

  kafka:
    kafka:
      admin:
        auto-create: true #For dev only
    bootstrap-servers: ${SPRING_KAFKA_BOOTSTRAP_SERVERS:kafka:9092}
    consumer:
      group-id: agentic-notifier-service
      auto-offset-reset: earliest
      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer
      value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer
      properties:
        spring.json.trusted.packages: "com.viana.*"
        spring.json.use.type.headers: false
        spring.json.value.default.type: com.viana.common.events.EnrichedAccountEvent
    producer:
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer

  mail:
    host: ${SPRING_MAIL_HOST:mailhog}
    port: ${SPRING_MAIL_PORT:1025}
    username: ""
    password: ""
    properties:
      mail.smtp.auth: false
      mail.smtp.starttls.enable: false

agentic:
  email:
    enabled: true
    from: "agentic@local.dev"
    to: "ops@local.dev"

  memory:
    enabled: ${AGENTIC_MEMORY_ENABLED:true}
    topK: ${AGENTIC_MEMORY_TOPK:5}
  embeddings:
    baseUrl: ${AGENTIC_EMBEDDINGS_BASEURL:http://embeddings:8000}


logging:
  level:
    org.springframework.boot.autoconfigure.mail: DEBUG

